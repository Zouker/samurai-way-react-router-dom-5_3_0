{"version":3,"file":"static/js/449.549e5ba4.chunk.js","mappings":"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","sources":["webpack://social_network/./src/components/Dialogs/Dialogs.module.css?1b2e","components/Dialogs/DialogItem/DialogItem.tsx","components/Dialogs/Message/Message.tsx","components/Dialogs/AddMessageForm/AddMessageForm.tsx","components/Dialogs/Dialogs.tsx","components/Dialogs/DialogsContainer.tsx","components/common/FormsControls/FormsControls.tsx","hoc/withAuthRedirect.tsx","utils/validators/validators.tsx","webpack://social_network/./src/components/common/FormsControls/FormControls.module.css?2a3b"],"sourcesContent":["// extracted by mini-css-extract-plugin\nexport default {\"dialogs\":\"Dialogs_dialogs__4VZML\",\"dialogsItems\":\"Dialogs_dialogsItems__P7bYT\",\"active\":\"Dialogs_active__neLxr\",\"messages\":\"Dialogs_messages__5CmT2\",\"message\":\"Dialogs_message__2yEf1\",\"avatar\":\"Dialogs_avatar__74mG7\"};","import React from 'react';\nimport s from './../Dialogs.module.css'\nimport {NavLink} from 'react-router-dom';\n\nexport type DialogsType = {\n    id: number\n    name: string\n    avatar: string\n}\n\nconst DialogItem = (props: DialogsType) => {\n    let path = '/dialogs/' + props.id\n    return (\n        <div className={s.dialog + ' ' + s.active}>\n            <img className={s.avatar} src={props.avatar} alt={'avatar'}/>\n            <NavLink to={path}>{props.name}</NavLink>\n        </div>\n    )\n}\n\nexport default DialogItem;","import React from 'react';\nimport s from './../Dialogs.module.css'\n\nexport type MessageType = {\n    id: string\n    message: string\n}\n\nconst Message = (props: MessageType) => {\n    return (\n        <div className={s.message}>\n            {props.message}\n        </div>\n    )\n}\n\nexport default Message;","import {maxLengthCreator, required} from '../../../utils/validators/validators';\r\nimport React, {FC} from 'react';\r\nimport {Field, InjectedFormProps, reduxForm} from 'redux-form';\r\nimport {Textarea} from '../../common/FormsControls/FormsControls';\r\n\r\ntype DialogsFormPropsType = {\r\n    newMessageBody: string\r\n}\r\nconst maxLength50 = maxLengthCreator(50);\r\nconst AddMessageForm: FC<InjectedFormProps<DialogsFormPropsType>> = (props) => {\r\n\r\n    return (\r\n        <form onSubmit={props.handleSubmit}>\r\n            <div>\r\n                <Field component={Textarea}\r\n                       name={'newMessageBody'}\r\n                       validate={[required, maxLength50]}\r\n                       placeholder={'Enter your message'}/>\r\n            </div>\r\n            <div>\r\n                <button type={'submit'}>Send</button>\r\n            </div>\r\n        </form>\r\n    )\r\n}\r\nexport const AddMessageFormRedux = reduxForm<DialogsFormPropsType>({form: 'dialogAddMessageForm'})(AddMessageForm)","import React from 'react';\nimport s from './Dialogs.module.css'\nimport DialogItem, {DialogsType} from './DialogItem/DialogItem';\nimport Message, {MessageType} from './Message/Message';\nimport {Redirect} from 'react-router-dom';\nimport {AddMessageFormRedux} from './AddMessageForm/AddMessageForm';\n\ntype DialogsPageType = {\n    dialogs: Array<DialogsType>\n    messages: Array<MessageType>\n    newMessageBody: string\n    sendMessage: (values: string) => void\n    isAuth: boolean\n}\n\nconst Dialogs = (props: DialogsPageType) => {\n\n    let dialogsElements = props.dialogs.map(d => <DialogItem key={d.id} name={d.name} id={d.id} avatar={d.avatar}/>);\n\n    let messagesElements = props.messages.map(m => <Message key={m.id} id={m.id} message={m.message}/>);\n\n    let addNewMessage = (values: { newMessageBody: string }) => {\n        props.sendMessage(values.newMessageBody);\n        values.newMessageBody = '';\n    }\n\n    if (!props.isAuth) return <Redirect to={'/login'}/>;\n\n    return (\n        <div className={s.dialogs}>\n            <div className={s.dialogsItems}>\n                {dialogsElements}\n            </div>\n            <div className={s.messages}>\n                <div>{messagesElements}</div>\n                <AddMessageFormRedux onSubmit={addNewMessage}/>\n            </div>\n        </div>\n    );\n};\n\n\nexport default Dialogs;","import {sendMessageAC} from '../../redux/dialogs-reducer';\nimport Dialogs from './Dialogs';\nimport {connect} from 'react-redux';\nimport {RootStateType} from '../../redux/redux-store';\nimport {compose, Dispatch} from 'redux';\nimport {DialogsType} from './DialogItem/DialogItem';\nimport {MessageType} from './Message/Message';\nimport React from 'react';\nimport {withAuthRedirect} from '../../hoc/withAuthRedirect';\n\ntype mapStateToPropsType = {\n    dialogs: Array<DialogsType>,\n    messages: Array<MessageType>,\n    // newMessageBody: string,\n    isAuth: boolean,\n}\n\ntype mapDispatchToPropsType = {\n    sendMessage: (newMessageBody: string) => void,\n}\n\nlet mapStateToProps = (state: RootStateType): mapStateToPropsType => {\n    return {\n        dialogs: state.dialogsPage.dialogs,\n        messages: state.dialogsPage.messages,\n        // newMessageBody: state.dialogsPage.newMessageBody,\n        isAuth: state.auth.isAuth,\n    }\n}\n\nlet mapDispatchToProps = (dispatch: Dispatch): mapDispatchToPropsType => {\n    return {\n        sendMessage: (newMessageBody) => {\n            dispatch(sendMessageAC(newMessageBody))\n        }\n    }\n}\n\nexport default compose<React.ComponentType>(\n    withAuthRedirect,\n    connect<mapStateToPropsType, mapDispatchToPropsType, {}, RootStateType>(mapStateToProps, mapDispatchToProps),\n)(Dialogs);","import React from 'react';\r\nimport styles from './FormControls.module.css'\r\nimport {Field, WrappedFieldMetaProps, WrappedFieldProps} from 'redux-form';\r\n\r\ntype FormControlPropsType = {\r\n    meta: WrappedFieldMetaProps\r\n}\r\n\r\nexport const FormControl: React.FC<FormControlPropsType> = ({meta: {touched, error}, children}) => {\r\n\r\n    const hasError = touched && error\r\n    return (\r\n        <div className={styles.formControl + ' ' + (hasError ? styles.error : '')}>\r\n            <div>\r\n                {children}\r\n            </div>\r\n            {hasError && <span>{error}</span>}\r\n        </div>\r\n    )\r\n}\r\n\r\nexport const Textarea: React.FC<WrappedFieldProps> = ({input, meta, ...restProps}) => {\r\n\r\n    return (\r\n        <FormControl meta={meta}> <textarea {...input} {...restProps}/> </FormControl>\r\n    )\r\n}\r\n\r\nexport const Input: React.FC<WrappedFieldProps> = ({input, meta, ...restProps}) => {\r\n    return (\r\n        <FormControl meta={meta}> <input {...input} {...restProps}/> </FormControl>\r\n    )\r\n}\r\n\r\nexport const createField = (placeholder: string | null, name: string, validators: ((value: string) => string | undefined)[], component: React.FC<WrappedFieldProps>, props = {}, text = '') => (\r\n    <div>\r\n        <Field placeholder={placeholder}\r\n               name={name}\r\n               validate={validators}\r\n               component={component}\r\n               {...props}\r\n        /> {text}\r\n    </div>\r\n)","import React, {ComponentType} from 'react';\r\nimport {Redirect} from 'react-router-dom';\r\nimport {connect} from 'react-redux';\r\nimport {RootStateType} from '../redux/redux-store';\r\n\r\ntype MapStateToPropsType = {\r\n    isAuth: boolean\r\n}\r\n\r\nconst mapStateToProps = (state: RootStateType): MapStateToPropsType => {\r\n\r\n    return {\r\n        isAuth: state.auth.isAuth\r\n    }\r\n}\r\n\r\nexport function withAuthRedirect<T>(Component: ComponentType<T>) {\r\n\r\n    const RedirectComponent = (props: MapStateToPropsType) => {\r\n        let {isAuth, ...restProps} = props\r\n        if (!isAuth) return <Redirect to={'/login'}/>\r\n        return <Component {...restProps as T}/>\r\n    }\r\n\r\n    let ConnectedRedirectComponent = connect(mapStateToProps)(RedirectComponent)\r\n    return ConnectedRedirectComponent\r\n}","export const required = (value: string) => {\r\n    if (value) return undefined;\r\n    return 'Field is required';\r\n}\r\n\r\nexport const maxLengthCreator = (maxLength: number) => (value: string) => {\r\n    if (value.length > maxLength) return `Max length is ${maxLength} symbols`;\r\n    return undefined;\r\n}\r\n","// extracted by mini-css-extract-plugin\nexport default {\"formControl\":\"FormControls_formControl__8Dqnn\",\"error\":\"FormControls_error__qoW33\",\"formSummaryError\":\"FormControls_formSummaryError__pSOJC\"};"],"names":["props","path","id","className","s","src","avatar","alt","to","name","message","maxLength50","maxLengthCreator","AddMessageFormRedux","reduxForm","form","onSubmit","handleSubmit","Field","component","Textarea","validate","required","placeholder","type","dialogsElements","dialogs","map","d","messagesElements","messages","m","isAuth","values","sendMessage","newMessageBody","compose","withAuthRedirect","connect","state","dialogsPage","auth","dispatch","sendMessageAC","Dialogs","FormControl","meta","touched","error","children","hasError","styles","input","restProps","Input","createField","validators","text","mapStateToProps","Component","value","maxLength","length"],"sourceRoot":""}